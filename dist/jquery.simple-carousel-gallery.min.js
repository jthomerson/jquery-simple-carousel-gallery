/*
 *  jquery-simple-carousel-gallery - v0.1.0
 *  A very simple image / video gallery with a carousel of thumbnails.
 *  
 *
 *  Made by Jeremy Thomerson
 *  Under Apache-2.0 License
 */
!function(a){"use strict";function b(b,e,f){this.element=a(b),this.items=e,this.settings=a.extend({},c,f),this.template=a(this.settings.templateSelector),this._defaults=c,this._name=d,this.init()}var c,d="SimpleCarouselGallery";c={templateSelector:"#SCQTemplate"},a.extend(b.prototype,{_currentIndex:0,init:function(){var b=this,c=this.template.clone();c.find(".media").empty(),this._renderCarouselInto(c),this.element.empty().append(c.html()),this.element.on("click",".carouselItem",function(c){var d=a(c.target).closest(".carouselItem").data("index");c.preventDefault(),b.goTo(d)}),this.goTo(0)},_renderCarouselInto:function(b){var c=this.template.find(".carouselItem"),d=b.find(".carousel");d.empty(),a.each(this.items,function(b,e){var f=c.clone(),g=a("<img />"),h=a("<a />");f.attr("data-index",b),h.attr("href","#"),g.attr("src",e.thumb),g.appendTo(h),h.appendTo(f),f.appendTo(d)})},_createMarkupFor:function(b){if("video"===b.type){var c=this.template.find(".media .video").clone().contents();return c.find("source").attr("src",b.src),c}return a("<img />").attr("src",b.src)},_renderCurrent:function(){var a=this.items[this._currentIndex],b=this._createMarkupFor(a);this.element.find(".media").empty().append(b),this.element.find(".caption").empty().html(a.caption)},goTo:function(a){this._currentIndex=a,this._renderCurrent()}}),a.fn[d]=function(c,e){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new b(this,c,e))})}}(jQuery,window,document);